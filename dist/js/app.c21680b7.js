(function(){"use strict";var e={837:function(e,t,n){var s=n(963),a=n(252),i=n(577);const o=e=>((0,a.dD)("data-v-71cd2ee5"),e=e(),(0,a.Cn)(),e),c={class:"wrapper"},l=o((()=>(0,a._)("h2",{class:"title"},"ToDo List",-1))),r=["onClick","checked"],d=["onClick"];function u(e,t,n,o,u,p){const k=(0,a.up)("add-task-input"),h=(0,a.up)("task-context-menu");return(0,a.wg)(),(0,a.iD)("div",c,[l,u.list.length>0?((0,a.wg)(),(0,a.j4)(s.W3,{key:0,name:"list",tag:"ul",class:"task-list"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(u.list,((e,t)=>((0,a.wg)(),(0,a.iD)("li",{key:e,class:"task-list__task"},[(0,a._)("input",{onClick:t=>p.checkbox(e),checked:e.checked,type:"checkbox",class:"checkbox-input"},null,8,r),(0,a._)("span",{onClick:n=>p.selectTask(e,t),class:(0,i.C_)([{"task-list__name_completed":e.checked},"task-list__name"])},(0,i.zw)(e.name),11,d)])))),128))])),_:1})):(0,a.kq)("",!0),(0,a.Wm)(k,{onAddTask:p.add},null,8,["onAddTask"]),(0,a.Wm)(h,{onClose:p.closeContextMenu,onCancel:p.cancelContextMenu,onDoAction:p.contextMenu_doAction,onSaveTask:p.saveTask,"is-open-context-menu":u.isOpen.contextMenu,"selected-task-name":u.selectedTask.name},null,8,["onClose","onCancel","onDoAction","onSaveTask","is-open-context-menu","selected-task-name"])])}const p={class:"add-task-wrapper"},k={class:"ati__footer"},h=["disabled"];function m(e,t,n,o,c,l){return(0,a.wg)(),(0,a.iD)("div",p,[(0,a._)("div",{class:(0,i.C_)([{"add-task-input_open":c.opened},"add-task-input"])},[(0,a._)("div",{ref:"ati__textarea",onInput:t[0]||(t[0]=(...t)=>e.update&&e.update(...t)),onKeyup:t[1]||(t[1]=(0,s.D2)(((...e)=>l.add&&l.add(...e)),["enter"])),class:"ati__textarea",contenteditable:"true",id:"ati__textarea"},null,544),(0,a._)("div",k,[(0,a._)("button",{onClick:t[2]||(t[2]=(...e)=>l.add&&l.add(...e)),class:"btn ati__btn"},"Add Task")])],2),(0,a._)("span",{onClick:t[3]||(t[3]=e=>c.opened=!1),class:(0,i.C_)([{"shadow-bg_open":c.opened},"shadow-bg"])},null,2),(0,a._)("span",{onClick:t[4]||(t[4]=e=>c.opened=!0),disabled:c.opened,class:(0,i.C_)([{"add-task-btn_hide":c.opened},"add-task-btn"])},null,10,h)])}var _={name:"add-task-input",data(){return{opened:!1}},methods:{add(){""!==this.$refs.ati__textarea.innerText.trim()&&(this.$emit("add-task",this.$refs.ati__textarea.innerText.trim()),this.$refs.ati__textarea.innerHTML="",this.opened=!1)}},watch:{opened(e){!0===e&&setTimeout((()=>{this.$refs.ati__textarea.focus()}),100)}}},f=n(744);const v=(0,f.Z)(_,[["render",m],["__scopeId","data-v-5b6e6fff"]]);var w=v;const x={class:"wrapper"},T=["onClick"];function C(e,t,n,s,o,c){const l=(0,a.up)("confirmation-window"),r=(0,a.up)("edit-task-window");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",x,[(0,a._)("ul",{class:(0,i.C_)([{"context-menu_open":this.isOpen.contextMenu},"context-menu"])},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.items,(e=>((0,a.wg)(),(0,a.iD)("li",{key:e,onClick:t=>c.goNext(e),class:"context-menu__item"},(0,i.zw)(e),9,T)))),128))],2),(0,a._)("span",{onClick:t[0]||(t[0]=(...e)=>c.closeAll&&c.closeAll(...e)),class:(0,i.C_)([{"shadow-bg_open":c.shadowBgIsOpen},"shadow-bg"])},null,2)]),(0,a.Wm)(l,{onCancel:c.closeAll,onConfirm:c.doAction,"is-open":o.isOpen.confirmationWindow,title:o.confirmationWindow_action},null,8,["onCancel","onConfirm","is-open","title"]),(0,a.Wm)(r,{onCancel:c.closeAll,onSaveTask:c.saveTask,"selected-task-name":n.selectedTaskName,"is-open":o.isOpen.editTaskWindow},null,8,["onCancel","onSaveTask","selected-task-name","is-open"])],64)}const b={class:"title"},g={class:"buttons"};function O(e,t,n,s,o,c){return(0,a.wg)(),(0,a.iD)("div",{class:(0,i.C_)([{wrapper_open:n.isOpen},"wrapper"])},[(0,a._)("h4",b,(0,i.zw)(n.title)+" task?",1),(0,a._)("div",g,[(0,a._)("button",{onClick:t[0]||(t[0]=e=>this.$emit("confirm")),class:"btn confirm"}," Подтвердить "),(0,a._)("button",{onClick:t[1]||(t[1]=e=>this.$emit("cancel")),class:"btn cancel"},"Отменить")])],2)}var A={name:"ConfirmationWindow",props:{isOpen:Boolean,title:String}};const M=(0,f.Z)(A,[["render",O],["__scopeId","data-v-2515f8de"]]);var W=M;const S=e=>((0,a.dD)("data-v-be5f8c60"),e=e(),(0,a.Cn)(),e),$=S((()=>(0,a._)("h2",{class:"window-title"},"Editing a task",-1))),D={class:"buttons"};function y(e,t,n,s,o,c){return(0,a.wg)(),(0,a.iD)("div",{class:(0,i.C_)([{wrapper_open:n.isOpen},"wrapper"])},[$,(0,a._)("span",{ref:"text-area",onInput:t[0]||(t[0]=(...t)=>e.updateTextArea&&e.updateTextArea(...t)),contenteditable:"",class:"text-area"},null,544),(0,a._)("div",D,[(0,a._)("button",{onClick:t[1]||(t[1]=(...e)=>c.cancelBtn&&c.cancelBtn(...e)),class:"btn"},"Cancel"),(0,a._)("button",{onClick:t[2]||(t[2]=(...e)=>c.saveTask&&c.saveTask(...e)),class:"btn"},"Save")])],2)}var I={name:"EditTaskWindow",props:{isOpen:Boolean,selectedTaskName:String},methods:{saveTask(){""!==this.$refs["text-area"].innerText.trim()&&this.$emit("save-task",this.$refs["text-area"].innerText.trim())},cancelBtn(){this.$emit("cancel")}},watch:{selectedTaskName(){this.$refs["text-area"].innerHTML=this.selectedTaskName}}};const N=(0,f.Z)(I,[["render",y],["__scopeId","data-v-be5f8c60"]]);var B=N,L={name:"TaskContextMenu",props:{isOpenContextMenu:Boolean,selectedTaskName:String},components:{ConfirmationWindow:W,EditTaskWindow:B},data(){return{isOpen:{contextMenu:this.takeIsOpenContextMenu,confirmationWindow:!1,editTaskWindow:!1},items:["Edit","Remove"],confirmationWindow_action:null}},emits:["close","cancel","doAction","save-task"],methods:{closeAll(){for(let e in this.isOpen)"contextMenu"!==e&&(this.isOpen[e]=!1);this.$emit("close"),this.$emit("cancel")},goNext(e){"Remove"===e?this.isOpen.confirmationWindow=!0:"Edit"===e&&(this.isOpen.editTaskWindow=!0),this.$emit("close"),this.confirmationWindow_action=e},doAction(){this.$emit("doAction",this.confirmationWindow_action),this.closeAll()},saveTask(e){this.$emit("save-task",e),this.closeAll()}},computed:{shadowBgIsOpen(){let e=!1;for(let t in this.isOpen)!0===this.isOpen[t]&&(e=!0);return e}},watch:{isOpenContextMenu(){this.isOpen.contextMenu=this.isOpenContextMenu}}};const j=(0,f.Z)(L,[["render",C],["__scopeId","data-v-4dae769c"]]);var E=j,H={name:"App",components:{AddTaskInput:w,TaskContextMenu:E},data(){return{selectedTaskIndex:null,selectedTask:{name:""},isOpen:{contextMenu:!1},list:localStorage.list?JSON.parse(localStorage.list):[]}},methods:{add(e){const t={name:e,checked:!1};this.list=[t,...this.list],this.saveToLocalStorage()},checkbox(e){e.checked=!0!==e.checked;const t=this.list.filter((e=>{if(!1===e.checked)return!0})),n=this.list.filter((e=>{if(!0===e.checked)return!0}));this.list=[...t,...n],this.saveToLocalStorage()},selectTask(e,t){this.isOpen.contextMenu=!0,this.selectedTaskIndex=t,this.selectedTask=e},closeContextMenu(){this.isOpen.contextMenu=!1},cancelContextMenu(){this.selectedTask={name:""}},contextMenu_doAction(e){"Remove"===e&&(this.list.splice(this.selectedTaskIndex,1),this.saveToLocalStorage())},saveTask(e){this.selectedTask.name=e,this.saveToLocalStorage()},saveToLocalStorage(){localStorage.list=JSON.stringify(this.list)}}};const Z=(0,f.Z)(H,[["render",u],["__scopeId","data-v-71cd2ee5"]]);var z=Z;(0,s.ri)(z).mount("#app")}},t={};function n(s){var a=t[s];if(void 0!==a)return a.exports;var i=t[s]={exports:{}};return e[s](i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,s,a,i){if(!s){var o=1/0;for(d=0;d<e.length;d++){s=e[d][0],a=e[d][1],i=e[d][2];for(var c=!0,l=0;l<s.length;l++)(!1&i||o>=i)&&Object.keys(n.O).every((function(e){return n.O[e](s[l])}))?s.splice(l--,1):(c=!1,i<o&&(o=i));if(c){e.splice(d--,1);var r=a();void 0!==r&&(t=r)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[s,a,i]}}(),function(){n.d=function(e,t){for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,s){var a,i,o=s[0],c=s[1],l=s[2],r=0;if(o.some((function(t){return 0!==e[t]}))){for(a in c)n.o(c,a)&&(n.m[a]=c[a]);if(l)var d=l(n)}for(t&&t(s);r<o.length;r++)i=o[r],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(d)},s=self["webpackChunkvue_todo"]=self["webpackChunkvue_todo"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=n.O(void 0,[998],(function(){return n(837)}));s=n.O(s)})();
//# sourceMappingURL=app.c21680b7.js.map